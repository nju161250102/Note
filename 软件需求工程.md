# 软件需求工程
参考教材：需求工程——软件建模与分析（第2版）  

## 1 软件需求导论

### 1.1 软件生产中的需求问题
需求问题是当前软件开发面临的主要问题。  
软件的三种类别：  
* 面向专业用户的应用软件
* 面向普通用户的应用软件
* 应用软件  
需求问题的具体技术原因分析：    
* 理解需求处理中的非技术性和社会性因素：组织机构文化、社会背景、商业目标、利益协商
* 结构化分析和面向对象分析具有一定的先天缺陷
* 以企业为中心的软件反映出软件规模的扩大
* 纠正需求的错误需要极高的代价  

### 1.2 需求工程
#### 1.2.1 需求工程简介
**需求工程定义：**是软件工程的一个分支，它关注于软件系统所应予实现的现实世界目标、软件系统的功能和软件系统应当遵守的约束，同时它也关注以上因素和准确的软件行为规格说明之间的联系，关注以上因素与其随时间或跨产品族而演化之后的相关因素之间的联系。  
需求工程的基本活动：  
* 需求开发
  * 需求获取
  * 需求分析
  * 需求规格说明
  * 需求验证
* 需求管理  

#### 1.2.2 需求工程与系统工程
系统需求开发-早期阶段；软件需求开发-后期阶段。  

#### 1.2.3 需求工程的重要性
特定问题的具体特性掩盖了需求工程的重要性：问题广为人知；问题小而简单。

#### 1.2.4 需求工程的复杂性
处理范围广泛；涉及诸多参与方；处理内容多样；处理活动互相交织；处理结果要求苛刻。  

## 1.3 需求工程师
需求工程师是涉众与开发者之间的桥梁。  
需求工程师需要重视软技能（交流、观察、抽象分析和问题解决、写作、关系协调与团队工作）  


## 2 需求基础
### 2.1 需求的定义
1. 用户为了解决问题或达到某些目标所需要的条件或能力；
2. 系统或系统部件为了满足合同、标准、规范或其它正式文档所规定的要求而需要具备的条件或能力；
3. 对（1）或（2）中的一个条件或一种能力的一种文档化表述。  

### 2.2 满足需求就是解决问题
#### 2.2.1 问题与需求
现实的状况与人们期望的状况产生差距时，就产生了问题。  
开发软件系统的目的就是希望用它作为解决方案来解决问题，使现实改善到期望的状况。  

#### 2.2.2 问题解决的两个方面——问题域与解系统
**问题域：** 问题的发生地，也是问题解决的基本范围——解决问题必须涉及的事件和事物。问题域是需求的背景，问题域的背景信息（问题域自治的规律性）又称为问题域特性（包括结构特性和行为特性）。需要额外关注间接特性、约束与假设。  
**解系统：** 软件系统通过影响问题域帮助人们解决问题，称之为解系统。  
问题域与需求：**需求**是用户对问题域中的实体状态或事件的期望描述。需求开发最原始的出发点就是用户需求，或者需求的源头——问题。  
解系统与需求规格说明：**需求规格说明**是解系统为满足用户需求而提供的解决方案，规定了解系统的行为特征。  

#### 2.2.3 问题解决的基础——模拟与共享现象
问题域与解系统能够形成互动的基础是解系统部分模拟了问题域，称之为共享现象。  

#### 2.2.5 问题解决方案——需求规格说明
主要包括：对共享现象（模型）的描述和对系统对共享对象所施加的操作的描述。  

#### 2.2.6 问题解决的困难性
1. 不存在描述明确的E；
2. 不存在确定的针对S的评估标准R；
3. E=>S是一个创造性的过程。  

需求工程的主要工作：  
* 需求开发,确定R 
* 研究问题背景，描述问题域特性E 
* 构建解系统，描述解系统行为S，使得E,S|->R  

### 2.3 需求和问题都具有层次性
需求最常见的抽象层次：  
* 业务需求：针对整个业务的期望
* 用户需求：针对具体任务的期望
* 系统级需求：针对系统和用户一次交互的期望。  

#### 2.3.1 战略问题与业务需求
业务需求是抽象层次最高的需求，是系统建立的战略出发点，表现为高层次的目标，描述了组织为什么要开发系统。  
为了满足用户的业务需求，需求工程师需要描述系统高层次的解决方案（逐一细化），定义系统应该具备的特性。  

#### 2.3.2 任务问题与用户需求
用户需求就是执行实际工作的用户对系统所能完成的具体任务的期望，描述了系统能够帮助用户做些什么。  
**用户：** 直接用户和间接用户（通用、公共服务软件等用户无法确定的系统）  
基本表达方式：XX用户可以使用系统完成XX任务。  
用户需求的特点：  
* 模糊、不清晰：允许使用形容词和副词  
* 多特性混杂：允许混合功能和非功能性需求  
* 多逻辑混杂：一条用户需求所代表的任务需多次系统交互才能完成  

#### 2.3.3 系统行为问题与系统级需求
适合软件开发者的需求层次是系统级需求。用户对系统行为的期望，一系列的系统行为联系在一起可以帮助用户完成任务，满足业务需求。  
基本表达方式：系统可以XXX；在XXX用户提出XXX请求时，系统应该XXX。  

## 6 涉众分析与硬数据采样
### 6.1 什么是涉众
所有对软件系统的开发和应用具有发言权和决定权的人称之为**涉众**。

### 6.2 涉众分析
#### 6.2.1 如何进行涉众分析
按照复杂程度将信息系统分类：  
* 小型系统
* 组织级系统
* 战略信息系统
* 组织间系统  

#### 6.2.2 涉众分析过程
* 涉众识别
* 涉众描述
* 涉众评估
* 涉众代表选择
* 制定涉众代表参与需求开发乃至软件系统的参与系统  

目标、范围、涉众的交织过程  

### 6.3 涉众识别
#### 6.3.1 发现所有的关键涉众类别
* 发现所有涉众类别：  
最简单的区分特征是任务，不同类别的涉众会执行不同的任务。复杂情况下可以分析涉众之间的互动，发现深层次的信息。  
* 过滤非关键涉众类别：  
分析一个涉众类别的任务或他们与外界的交互活动，如果属于项目范围，服务于系统目标的满足，就属于关键类型。
* 维护涉众类别：  
完成分类后继续保持适当的关注  

#### 6.3.2 识别涉众的方法
* 先膨胀后收缩方法
* 检查列表方法
* 涉众网络方法

### 6.4 涉众描述
#### 6.4.1 描述哪些内容
涉众因素：  
* 涉众的输赢条件
* 涉众的力量与意愿
* 涉众的个人特征与公众特征  

#### 6.4.2 描述示例
略

### 6.5 涉众评估
#### 6.5.1 优先级评估
优先考虑涉众的基本特征，尤其是任务特征。  
User/Task矩阵。  
Power/Interest分布图：参与者、环境设定者、被影响者、观众。  

#### 6.5.2 风险评估
Power/Attitude分布图：弱支持者、强支持者、弱反对者、强反对者。  
化解风险：  
* 提高环境参与者对系统的关注，将他们转变为参与者
* 消除强反对者的反对原因，将他们变为强支持者
* 给予被影响者充分发表和实现自身意见的权力
* 化解弱反对者的忧虑。  

#### 6.5.3 共赢分析
发现冲突：建立Stakeholder/Issue关系图  
* 列出所有涉众类别，描述兴趣和对系统的期望
* 由涉众的兴趣和期望发现背后涉及的共同问题
* 建立涉众类别与问题的关联
* 对每一个Stakeholder/Issue关系标明关系上被寄予的期望  

### 6.6 涉众代表选择
#### 6.6.1 涉众采样
完整采样、态度积极、数量适中、比例恰当

#### 6.6.2 用户替代源
和涉众接触频繁的人

### 6.7 涉众参与策略制定
#### 6.7.1 制定涉众参与的基本策略
建立涉众参与矩阵

#### 6.7.2 敏捷方法——用户参与
* 建立和用户的直接联系
* 用户参与软件系统开发的整个过程
* 反馈设计：最终的软件系统和用户的活动行为密切相关  

### 6.9 硬数据及硬数据采样
#### 6.9.1 硬数据
定量硬数据：数据收集表格、统计报表  
定性硬数据：整个组织的描述化文档、业务指导文档、业务备忘  

#### 6.9.2 硬数据采样
样本大小SS = 0.25*（确定性因子/可接受的错误）^2  
